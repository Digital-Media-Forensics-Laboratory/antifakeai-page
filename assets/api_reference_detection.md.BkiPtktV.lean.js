import{_ as i,c as a,a0 as t,o as e}from"./chunks/framework.BD2nrhTt.js";const c=JSON.parse('{"title":"检测服务接口文档","description":"","frontmatter":{"title":"检测服务接口文档","outline":[2,4]},"headers":[],"relativePath":"api_reference/detection.md","filePath":"api_reference/detection.md","lastUpdated":1748314038000}'),n={name:"api_reference/detection.md"};function h(l,s,p,d,k,o){return e(),a("div",null,s[0]||(s[0]=[t(`<h1 id="🛡️-检测服务接口文档" tabindex="-1">🛡️ 检测服务接口文档 <a class="header-anchor" href="#🛡️-检测服务接口文档" aria-label="Permalink to &quot;🛡️ 检测服务接口文档&quot;">​</a></h1><p>本页面将介绍 <strong>AntiFakeAI 深度伪造检测服务</strong> 的接口机制与设计，包括基本概念与详细的 HTTP 接口定义，帮助开发者快速上手集成。</p><h2 id="📘-基本概念" tabindex="-1">📘 基本概念 <a class="header-anchor" href="#📘-基本概念" aria-label="Permalink to &quot;📘 基本概念&quot;">​</a></h2><p>AntiFakeAI 检测服务提供三种接口形式，满足不同业务场景：</p><ul><li><code>detect</code>: 实时检测，适合同步使用场景，上传内容并原地等待检测结果。</li><li><code>cache</code>: 异步检测，适合高并发或需快速响应的场景，上传内容返回任务 <code>id</code>。</li><li><code>report</code>: 结果查询，通过 <code>id</code> 获取异步检测的最终结果。</li></ul><h3 id="支持内容类型" tabindex="-1">支持内容类型 <a class="header-anchor" href="#支持内容类型" aria-label="Permalink to &quot;支持内容类型&quot;">​</a></h3><p>目前服务支持以下类型的数据上传：</p><ul><li>图片（jpg/png/webp）</li><li>视频（mp4）</li><li>Base64 编码内容（需加上 data URI 头）</li></ul><h3 id="返回结果说明" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明" aria-label="Permalink to &quot;返回结果说明&quot;">​</a></h3><p>检测结果为标准化的 JSON 对象，包含：</p><ul><li><code>score</code>: 数值评分（0~1，越高表示越可疑）</li><li><code>label</code>: 判断标签（例如 <code>&quot;real&quot;</code> 或 <code>&quot;fake&quot;</code>）</li><li><code>meta</code>: 包含模型信息、版本、处理耗时等元数据</li></ul><hr><h2 id="🧩-接口文档" tabindex="-1">🧩 接口文档 <a class="header-anchor" href="#🧩-接口文档" aria-label="Permalink to &quot;🧩 接口文档&quot;">​</a></h2><h3 id="🔍-post-detect" tabindex="-1">🔍 POST <code>/detect</code> <a class="header-anchor" href="#🔍-post-detect" aria-label="Permalink to &quot;🔍 POST \`/detect\`&quot;">​</a></h3><p>用于同步检测。客户端上传内容后服务立即返回检测结果。</p><p><strong>请求格式：</strong></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">POST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /detect</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Content-Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> multipart/form-data</span></span></code></pre></div><p><strong>请求参数：</strong></p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>file</code></td><td>file</td><td>待检测文件（图片或视频）</td></tr></tbody></table><p><strong>响应示例：</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afk_3e9c8127&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;score&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.87</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fake&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;meta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;model&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resnet50&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;duration_ms&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">513</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="📥-post-cache" tabindex="-1">📥 POST <code>/cache</code> <a class="header-anchor" href="#📥-post-cache" aria-label="Permalink to &quot;📥 POST \`/cache\`&quot;">​</a></h3><p>用于异步上传，服务接收内容后返回唯一任务 <code>id</code>，稍后可通过 <code>/report</code> 查询结果。</p><p><strong>请求格式：</strong></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">POST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /cache</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Content-Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> multipart/form-data</span></span></code></pre></div><p><strong>请求参数：</strong></p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>file</code></td><td>file</td><td>待检测文件</td></tr></tbody></table><p><strong>响应示例：</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afk_2f83cc1d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cached&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="📊-get-report-id-id" tabindex="-1">📊 GET <code>/report?id={id}</code> <a class="header-anchor" href="#📊-get-report-id-id" aria-label="Permalink to &quot;📊 GET \`/report?id={id}\`&quot;">​</a></h3><p>根据 <code>id</code> 查询异步检测结果。</p><p><strong>请求格式：</strong></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /report?id=afk_2f83cc1d</span></span></code></pre></div><p><strong>响应示例：</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afk_2f83cc1d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;score&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.92</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fake&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;meta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;model&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resnet50&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;duration_ms&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">489</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;done&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>状态说明：</strong></p><table tabindex="0"><thead><tr><th>状态</th><th>含义</th></tr></thead><tbody><tr><td><code>cached</code></td><td>正在排队或处理中</td></tr><tr><td><code>done</code></td><td>检测已完成</td></tr><tr><td><code>error</code></td><td>检测失败</td></tr></tbody></table><hr><h2 id="🕘-版本历史" tabindex="-1">🕘 版本历史 <a class="header-anchor" href="#🕘-版本历史" aria-label="Permalink to &quot;🕘 版本历史&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:center;">版本</th><th style="text-align:center;">日期</th><th style="text-align:center;">修订内容</th></tr></thead><tbody><tr><td style="text-align:center;">v0.0.1 apha</td><td style="text-align:center;">2025-04-14</td><td style="text-align:center;">初版发布</td></tr></tbody></table><hr>`,43)]))}const E=i(n,[["render",h]]);export{c as __pageData,E as default};
